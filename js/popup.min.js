var feedbackButton=document.querySelector(".feedback-button"),modalFeedback=document.querySelector(".modal-feedback"),modalFeedbackClose=document.querySelector(".modal-feedback-close"),feedbackForm=document.querySelector(".feedback-form"),feedbackName=document.querySelector(".feedback-name"),feedbackEmail=document.querySelector(".feedback-email"),feedbackText=document.querySelector(".feedback-text"),feedbackBackground=document.querySelector(".background"),modalSearch=document.querySelector(".modal-search"),searchLink=document.querySelector(".search-link"),searchInput=document.querySelector("[name=search]"),modalLogin=document.querySelector(".modal-login"),entranceLink=document.querySelector(".entrance-link"),entranceEmail=document.querySelector(".entrance-email"),entrancePassword=document.querySelector(".entrance-password"),loginForm=document.querySelector(".entrance-form"),cartLink=document.querySelector(".cart-link"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("feedbackName")}catch(e){isStorageSupport=!1}feedbackButton.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-feedback-show"),feedbackBackground.classList.add("background-wrapper"),storage?(feedbackName.value=storage,feedbackEmail.focus()):feedbackName.focus()}),modalFeedbackClose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-feedback-show"),modalFeedback.classList.remove("modal-feedback-error"),feedbackBackground.classList.remove("background-wrapper")}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackText.value?isStorageSupport&&localStorage.setItem("feedbackName",feedbackName.value):(e.preventDefault(),modalFeedback.classList.remove("modal-feedback-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-feedback-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalFeedback.classList.contains("modal-feedback-show")&&(e.preventDefault(),modalFeedback.classList.remove("modal-feedback-show"),modalFeedback.classList.remove("modal-feedback-error"),feedbackBackground.classList.remove("background-wrapper"))}),searchLink.addEventListener("mouseover",function(e){e.preventDefault(),modalSearch.classList.add("modal-search-show"),modalLogin.classList.remove("modal-login-show"),modalLogin.classList.remove("modal-login-error"),searchInput.focus()}),modalSearch.addEventListener("mouseover",function(e){e.preventDefault(),modalSearch.classList.add("modal-search-show"),searchInput.focus()}),modalSearch.addEventListener("keydown",function(e){searchInput.value||13===e.keyCode&&(e.preventDefault(),modalSearch.classList.remove("modal-search-error"),modalSearch.offsetWidth=modalSearch.offsetWidth,modalSearch.classList.add("modal-search-error"))}),modalSearch.addEventListener("mouseout",function(e){e.preventDefault(),modalSearch.classList.remove("modal-search-show"),modalSearch.classList.remove("modal-search-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalSearch.classList.contains("modal-search-show")&&(e.preventDefault(),modalSearch.classList.remove("modal-search-show"),modalSearch.classList.remove("modal-search-error"))}),entranceLink.addEventListener("mouseover",function(e){e.preventDefault(),modalLogin.classList.add("modal-login-show"),modalSearch.classList.remove("modal-search-show"),modalSearch.classList.remove("modal-search-error"),entranceEmail.focus()}),modalLogin.addEventListener("mouseover",function(e){e.preventDefault(),modalLogin.classList.add("modal-login-show"),entranceEmail.focus()}),loginForm.addEventListener("submit",function(e){entranceEmail.value&&entrancePassword.value||(e.preventDefault(),modalLogin.classList.remove("modal-login-error"),modalLogin.offsetWidth=modalLogin.offsetWidth,modalLogin.classList.add("modal-login-error"))}),modalLogin.addEventListener("mouseout",function(e){e.preventDefault(),modalLogin.classList.remove("modal-login-show"),modalLogin.classList.remove("modal-login-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalLogin.classList.contains("modal-login-show")&&(e.preventDefault(),modalLogin.classList.remove("modal-login-show"),modalLogin.classList.remove("modal-login-error"))}),cartLink.addEventListener("mouseover",function(e){e.preventDefault(),modalLogin.classList.remove("modal-login-show"),modalSearch.classList.remove("modal-search-show")});